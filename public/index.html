<!DOCTYPE html>
<html lang="en" ng-app="UCHCapp">

<head>
  <meta charset="utf-8">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"></script>
  <link rel="stylesheet" href="./css/app.css">
  <script type='text/javascript' src="./js/angular.min.js"></script>
  <script src="./js/mainControl.js"></script>

</head>

<body ng-controller="mainController">

  <div class="myContainer">
    <h1>UCHC Scheduling System</h1>
    <br>
    <form class="form-inline">
      <div class="form-group">
        <label for="threshold">Risk Threshold (0-9): </label>
        <input type="number" id="threshold" min="0" max="9" class="form-control" placeholder="5" ng-model="threshold">
      </div>
    </form>
    <p id="finePrint">Determines the risk scale of appointments. Appointments with risk scores
      over the threshold qualify as high, even if the threshold is set to 0.</p>

    <br>
    <div id="wrapper">
      <button type="button" ng-click="getNoShowsTomorrow()" class="btn btn-outline-dark btn1">Find Tomorrow's No-Shows</button>
      <button type="button" ng-click="getNoShowsThisWeek()" class="btn btn-outline-dark">Find This Week's No-Shows</button>
    </div>

    <br>
    <h4> <b>{{feedback}}</b> </h4>

    <div id={{visibility}} class="apptContainer">
      <h4>Appointments</h4>
      <p id="finePrint">High-risk appointments are highlighted in red, medium-risk appointments
        are highlighted in yellow, and low-risk appointments are highlighted in green.</p>

      <table class="tg">
        <tr>
          <th id="tableTop">ID</th>
          <th id="tableTop">Name</th>
          <th id="tableTop">Date</th>
          <th id="tableTop">Time</th>
        </tr>
        <tr ng-repeat="appointment in appointments | orderBy: ['date', 'starttime']">
          <td id={{appointment.risk}}> {{appointment.appointmentid}} </td>
          <td id={{appointment.risk}}> {{appointment.patient.firstname}} {{appointment.patient.lastname}} </td>
          <td id={{appointment.risk}}> {{appointment.date}} </td>
          <td id={{appointment.risk}}> {{appointment.starttime}}</td>
        </tr>
      </table>
    </div>
  </div>
  </div>
  </div>



</body>

</html>
